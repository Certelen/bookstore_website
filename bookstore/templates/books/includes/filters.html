{% csrf_token %}
<div class="accordion accordion_collapse w-100 mb-3 mobile-filters" id="filters"
    style="border-radius: 10px; overflow: hidden;">
    <div class="accordion-item">
        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne"
            aria-expanded="true" aria-controls="collapseOne">
            <span>Жанры</span>
        </button>
        <div id="collapseOne" class="accordion-collapse collapse" aria-labelledby="headingOne"
            data-bs-parent="#accordionExample">
            <div class="accordion-body" style="max-height: 200px; overflow: scroll;background-color: #BAB2B5;">
                {% for genre in genres %}
                <div class="form-check">
                    <input class="form-check-input" type="checkbox" value="{{ genre.id }}"
                        id="flexCheckDefault-{{genre.id}}" name="genres" {% if genre.id in filter_dict.genres %} checked
                        {% endif %}>
                    <label class="form-check-label" for="flexCheckDefault-{{genre.id}}">
                        {{ genre.name }}
                    </label>
                </div>
                {% endfor %}
            </div>
        </div>
    </div>
    <div class="accordion-item">
        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTwo"
            aria-expanded="false" aria-controls="collapseTwo">
            <span>Цена</span>
        </button>
        <div id="collapseTwo" class="accordion-collapse collapse" aria-labelledby="headingTwo"
            data-bs-parent="#accordionExample">
            <div class="accordion-body" style="background-color: #BAB2B5;">
                <div class="d-flex justify-content-between">
                    <input type="number" class="form-control text-white me-2" id="PriceMin" name="pricemin"
                        placeholder="От" value="{{ filter_dict.pricemin }}">
                    <input type="number" class="form-control text-white ms-2" id="PriceMax" name="pricemax"
                        placeholder="До" value="{{ filter_dict.pricemax }}">
                </div>
            </div>
        </div>
    </div>
    <div class="accordion-item">
        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
            data-bs-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
            <span>Дата выхода</span>
        </button>
        <div id="collapseThree" class="accordion-collapse collapse" aria-labelledby="headingThree"
            data-bs-parent="#accordionExample">
            <div class="accordion-body" style="background-color: #BAB2B5;">
                <div class="d-flex justify-content-between">
                    <input type="text" class="form-control text-white me-2" id="DateMin" name="datemin"
                        placeholder="Начиная с" onfocus="(this.type='date')"
                        onblur="if(this.value==''){this.type='text'}" value="{{ filter_dict.datemin }}">
                    <input type="text" class="form-control text-white me-2" id="DateMax" name="datemax"
                        placeholder="Заканчивая до" onfocus="(this.type='date')"
                        onblur="if(this.value==''){this.type='text'}" value="{{ filter_dict.datemax }}">
                </div>
            </div>
        </div>
    </div>
</div>
<button id="apply_filter_button" type="submit" name="apply_filter" class="btn btn-light mb-2 text-light w-100"
    style="background-color: #123C69;">Применить</button>
<button type="submit" name="reset_filter" class="btn btn-light text-light w-100 mb-4"
    style="background-color: #AC3B61;">Сбросить</button>
<input id="sort_input" name="sort" value="{{ filter_dict.sort }}" hidden>
<input name="search_word" value="{{ search_form.search_word.value }}" hidden>